<dl class="portlet portletProfilePortlet"
    i18n:domain="cloudspring.sfmembers"
    id="portlet-profile">

<metal:block use-macro="here/global_defines/macros/defines" />
<div tal:condition="python: not context.id == 'members-collection'"> 
    <div tal:condition="view/isHomeFolder" id="my-home-folder" /> 
    <link rel="stylesheet" type="text/css" tal:attributes="href string:++resource++cloudspring.sfmembers/member.css" />

    <dt class="portletHeader">
        <span class="portletTopLeft"></span>
        <div>
          <a tal:attributes="href view/getUrl">
            <h2 tal:content="view/getName" />
          </a>
        </div>
        <span class="portletTopRight"></span>
    </dt>

    <dd class="portletItem">
      <div>
        <div class="_overlay">
          <a tal:attributes="href string:${view/getUrl}/profile" title="View Profile">
             <img tal:define="member view/_member; scale member/@@images"
                 tal:replace="structure python: scale.scale('picture', width=200, height=200).tag()" 
                 tal:condition="python: view.getPicture()">
            <img tal:attributes="src string: ++resource++cloudspring.sfmembers/default_profile.jpg" alt="" tal:condition="python: not view.getPicture()" width="200"/>
          </a>
        </div>

        <ul>
          <li tal:condition="view/getCellPhone" tal:content="view/getCellPhone"/>
          <li tal:condition="view/getEmail">
            <a tal:attributes="href string:mailto:${view/getEmail}" 
               tal:content="view/getEmail" />
          </li>
          <li tal:condition="view/getWebsite">
            <a tal:attributes="href view/getWebsite" 
               tal:content="view/getWebsite" />
          </li>
          <li>
            <div class="_overlay">
              <a tal:attributes="href string:${view/getUrl}/profile">
                <span tal:content="string:${view/getFirstName}'s profile" />
              </a>
            </div>
         </li>
        </ul>
        <br clear="both" />
      </div>
    </dd>

    <dd class="portletFooter">
        <span class="portletBottomLeft"></span>
        <span class="portletBottomRight"></span>
    </dd>
</div>
</dl>
